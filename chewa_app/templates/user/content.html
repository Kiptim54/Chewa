{% extends 'dashboard/base.html'%}
{% load bootstrap3 %}
{% load static %}
{% block styles %}
{% bootstrap_css %}
<link rel="stylesheet" href="{% static 'css/main.css' %}">
{%endblock %}
{% block content %}
{{block.super}}



<div class="container" style="font-family: 'Quicksand', sans-serif;color:#3a97a5;font-size:150%;">
    <div class="row">
<<<<<<< HEAD

      <div class="card" style="width: 30rem;font-size:110%;">
        <div class="card-body">
          <h2 class="card-title">Username: {{profile.name}}</h2>
          <p class="card-text">You are currently learning:{{contents.language}} </p>
          <p class="card-text">Your total_score : <strong>{{ profile.total_score}}</strong></p>
          <p class="card-text">This question has {{contents.score}} points</p></p>

        </div>
      </div>
          </div>

          <div class="col-xs-offset-4">
            <h1 style="font-size:200%;">Question: {{contents.question }}</h1>

=======
        <div class="col-xs-8 col-xs-offset-2">

                <p>Username:{{profile.name}}</p>
            {% if contents%}
                <div id="total_score">
                        <p>Your total_score : {{ profile.total_score}}</p>
                </div>
                
            <h4>You are currently learning:{{contents.language}} </h4>
            <p>This question has {{contents.score}} points</p>
                
            <h1>Question: {{contents.question }}</h1>
>>>>>>> 9e4e68da1c3407c9783de5c11aa041279c074d85
            <form id="get_answer" action="{% url 'answer' contents.score %}">
              <span style="font-size:150%;">
                <input type="radio" name="{{contents.content}}" value="{{contents.answer}}" id="correct"> {{contents.answer}}</span><br>

                <span style="font-size:150%;">
                <input type="radio" name="{{contents.content}}" value="{{contents.choice1}}"checked> {{contents.choice1}}</span><br>

                <span style="font-size:150%;">
                <input type="radio" name="{{contents.content}}" value="{{contents.choice1}}"> {{contents.choice1}} </span>
                <br>
                <input type="submit" style="margin-top:1em;">
              </form>
              <div id="response">

                </div>
                <button id="reveal_answer" style="margin-top:1em;">Show answer</button>
                <div class="show_answer">
                    {{contents.answer}}
                </div>
                <form action="{% url 'content' language=contents.language level=contents.level %}">
                        <input type="hidden" method='get' type="submit" value="{{contents.level}}", name="level">
                        <button class="btn btn-info" style="margin-top:1em;font-size:100%;">Next Question</button>
                    </form>
<<<<<<< HEAD


=======
                    {% else %}
                    {{message}}
                    {% endif %}
                
                
>>>>>>> 9e4e68da1c3407c9783de5c11aa041279c074d85
        </div>
    </div>
</div>



<script>
     $(document).ready(function(){
         /*hide and show answer*/
         $('.show_answer').hide();
         $('#reveal_answer').click(function(){
            $('.show_answer').toggle()
         })
        $("#get_answer").submit(function(event){
            event.preventDefault();
            var url = document.getElementById('get_answer').getAttribute('action');
            // var {{contents.content}}= document.getElementsByTagName('input').val()
            console.log(url)
            form=$('#get_answer')
            answer=$('input[name={{contents.content}}]:checked').val();
            correct=$('#correct').val();

            if(answer==correct){
                $.ajax({
                    'url':url,
                    'type':'POST',
                    'data':$(this).serialize(),
                    'dataType':'json',
                    'success': function(response){
                    $("#total_score").html(`<p>Your total_score : ${ response.total_score}</p>`);
                    $("#response").html(`<h5 style="color:green;">Correct!</h5>`)

                    },
                    })
            }
            else{
                $("#response").html(`<h5 style="color:red;">Wrong. Try again!</h5>`)
                form[0].reset();
            }


        })
    });


</script>


{% block scripts %}
{{block.super}}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type='text/javascript' src="{% static 'js/scripts.js'%}"></script>

{% endblock %}


{% endblock %}

if(answer===""){
    $("#response").html(`<h5 style="color:red;">Please key in value</h5>`)
}
